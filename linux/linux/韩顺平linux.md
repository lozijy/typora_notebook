###　前置内容

我大一的时候买了一个服务器，由于不熟悉linux导致我的服务器用的很烂，现在重拾记忆中的博客,并且把linux用好

首先明确:在服务器中直接java -jar halo.jar 是不好的，因为它并不是以守护进程的形式运行在服务器中，当我退出远程连接后它就自己停止运行了，所以我们使用了一个命令

```shell
nohup java -jar halo.jar &
```

这样就可以了

关于我的服务器





### 目录结构

![image-20221115235028280](C:\Users\lonux\AppData\Roaming\Typora\typora-user-images\image-20221115235028280.png)

树状目录，最上层是根目录"/",一切皆文件

/bin 存放最经常使用的命令.

/sbin 存放superuser用的系统管理程序

/home 存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录是以用户的账号命名。

/root 这个目录是系统管理员，  称为超级权限者的用户主目录

/lib 系统开机所需要最基本的动态链接共享库，作用类似于windows里的dll文件，几乎所有的应用程序都需要用到这些共享库

/lost+found 一般情况下是空的，当系统非法关机后这里存放了一些文件

/etc 所有系统管理所需要的配置文件和子目录，比如安装Mysql数据库my.conf

/usr非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录

/boot 存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件

/proc是一个虚拟的目录，是系统内存的映射，访问这个目录来获取系统信息

/srv service缩写，这个目录存放一些服务启动后需要提取的数据

/sys linux2.6内核的一个很大的变化，安装了2.6内核中新出现的一个文件系统sysfs

/tmp 这个目录是用来存饭一些临时文件的



具体的目录结构：

/dev 类似于windows的设备管理器，把所有硬件用文件的形式存储

/media 自动识别一些设备，例如u盘，光驱等等，当识别后linux把识别的设备挂载到这个目录下

/mnt 系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载到/mnt/上

/opt 这是给主机额外安装软件所摆放的目录，如安装ORACLE数据库就可以放到该目录下。默认为空。

![image-20221115235057881](C:\Users\lonux\AppData\Roaming\Typora\typora-user-images\image-20221115235057881.png)

/usr/local 这是另一个给主机额外安装软件所安装的目录，一般是通过编译源码的方式安装的程序

![image-20221115235248483](C:\Users\lonux\AppData\Roaming\Typora\typora-user-images\image-20221115235248483.png)

/selinux 是一种安全子系统，能控制程序只能访问特定文件，有三种工作模式，可以自行设置

### 远程登录

### 远程文件传输

### vi,vim快速入门

正常模式:上下左右移动光标，删除字符，删除整行来处理档案内容，也可以使用复制粘贴来处理你的文件数据

插入模式:i,I,o,O,A,r,R等任何一个字母之后才会进入编辑模式

命令行模式:在这个模式中可以提供相关指令，完成读取，存盘，替换，离开vim,显示行号等动作

使用vim开发一个hello.java程序



### vi,vim快捷键

快捷键练习:

1.拷贝当前行 yy ,拷贝当前行向下的5行 5yy,并粘贴(输入p)

2.删除当前行dd,删除当前行向下的五行5dd

3.在文件中查找某个单词(命令行下/关键字，回车查找，输入n就是查找下一个)

4.设置文件的行号，取消文件的行号命令行模式下(:set nu)

5.编辑/etc/profile文件，一般模式下使用快捷键到该文档的最末行[G]和最首行[gg]

G游戏结束，gg good game 重新开始

6.在一个文件中输入Hello，然后又撤销这个动作u

7.编辑/etc/profile wfjm ,并将光标移动到20行shift+g



在一般情况下我们都是在本地的windows环境下把程序写好再上传到Linux服务器，当然也有用vim直接修改linux环境的情况，但也只会修改一些很简单的

### 关机重启

### 登录注销

### 用户管理

1.

Linux是一个多用户的操作系统，只有一个root用户，这个用户可以创建多个用户，任何人想要访问共享资源，则必须要以一个用户登录上

添加用户:

```shell
useradd king 创建一个用户

adduser king ubuntu下创建一个用户，并在home下创建一个文件夹

passwd king 给king用户设置新密码
```

删除用户:

```shell
userdel king  删除用户King，但保留home下的文件
userdel -r king 递归并删除king用户在home下的所有文件
```

一般来讲我们不使用userdel -d king 会把家目录下的文件保留下来

2.

查询用户信息

```shell
id 用户名
返回这gid 组
```

切换用户

```shell
su - 切换用户名
su 切换到root用户


logout退出当前账户
或
exit
在远程连接的形式下使用logout,在桌面的形式下在终端中使用exit

whoami查看当前登录的是哪个用户
```

从权限高的用户切换到权限低的用户不需要输入密码

从权限低的用户切换到平级用户或高级用户需要输入对应的用户密码

3.

用户组

类似于角色，系统可以对有共性(权限)的多个用户进行统一的管理

新增组:

groupadd 组名

删除组

groupdel 组名

在删除组之前要把用户移除

增加用户时加上组

useradd -g 用户组 用户名

修改用户的组

usermod -g 用户组 用户名



用户和组相关文件

增加组之后会有配置文件保留用户的各种信息



/etc/passwd文件 记录用户的各种信息

每行的信息:用户名:用户标识号:组标识号:注释性描述:主目录：登录shell

**什么是shell? 当我们输入一个比如cd的指令时内核并不知道我们在说什么，这是由翻译官Shell对指令进行解释，解释后再把发送指令给内核，**

**shell的种类很多bash,tsh,csh我们一般用的是bash**



![image-20221116140628977](C:\Users\lonux\AppData\Roaming\Typora\typora-user-images\image-20221116140628977.png)

![image-20221116140731075](C:\Users\lonux\AppData\Roaming\Typora\typora-user-images\image-20221116140731075.png)



/etc/shadow文件 口令的配置文件，

每行的含义:登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志



/etc/group文件 组group的配置文件，记录Linux包含的组的信息

每行的含义:组名:口令:组标识号:组内用户列表

![image-20221116140436847](C:\Users\lonux\AppData\Roaming\Typora\typora-user-images\image-20221116140436847.png)



### 运行级别

运行级别:

0:关机

1：单用户[找回丢失密码]

2.多用户状态没有网络服务

3.多用户状态有网络服务

4.系统未使用保留给用户

5.图形界面

6.系统重启

常用运行级别是3和5，也可以指定默认运行级别

3不用图形界面，可以节省很多资源

2和4一般不用



init[0123456]应用案例:通过init来切换不同的运行级别，比如动5-3,然后关机

输入init 3没有图形界面

init 5可以切回到图形界面

输入init 0关机

输入init 6 重新启动

指定默认级别

centos7以前是在/etc/inittab文件中修改

后面进行了简化: 



![image-20221116143612166](C:\Users\lonux\AppData\Roaming\Typora\typora-user-images\image-20221116143612166.png)



设置默认运行级别为3

![image-20221116143734199](C:\Users\lonux\AppData\Roaming\Typora\typora-user-images\image-20221116143734199.png)

![image-20221116143825164](C:\Users\lonux\AppData\Roaming\Typora\typora-user-images\image-20221116143825164.png)

改变后重启它就会直接进入级别3（无图形界面）

reboot

在工作中肯定是级别3

### 找回root密码 

首先重启系统进入开机界面，在界面中按e进入编辑界面，

进入编辑界面后使用键盘上的上下键把光标往下移动，找到以linux16开头内容所在的行数，在行的最后面输入:init=/bin/sh如图

接着输入完成后直接按快捷键Ctrl+x进入单用户模式

接着在光标闪烁处输入 mount -o remount,rw /(注意，各个单词之间有空格)，完成后按键盘的回车键(Enter)如图

在最新的一行后输入passwd完成后按键盘的回车键，输入密码，然后再确认密码即可

这个必须是服务器本机才能操作，不可以远程

### 帮助指令

man ls 获得帮助信息

```shell
man ls
```



可以查看ls的相关用法

![image-20221116151240482](C:\Users\lonux\AppData\Roaming\Typora\typora-user-images\image-20221116151240482.png)

help指令 

基本语法:help (获得shell内置命令的帮助信息)

```shell
help
```



![image-20221116151343839](C:\Users\lonux\AppData\Roaming\Typora\typora-user-images\image-20221116151343839.png)



### 文件目录指令

### 时间日期指令

### 查找指令

### 压缩和解压

### 实用指令小结

### linux组的介绍

### 所有者

### 所在组

### 修改所在组

### rwx权限

### 权限说明案例

### 修改权限

### 修改所有者和所在组

### 权限管理案例

1.

2.

3.

4.

### crond快速入门 

### crond时间规则

### crond实用案例

### at任务调度机制

### at任务调度实例

### 任务调度小结

### 磁盘分区机制

### 增加磁盘应用实例

### 磁盘情况查询

### 磁盘实用指令

### 磁盘分区挂载小结

### NAT网络原理图

### 网络配置指令

### 网络配置实例

### 主机名和hosts映射

### 网络配置小结

### 进程基本介绍

### ps指令详解

### 父子进程

### 终止进程

### pstree指令

### 服务管理

1.

2.

3.

4.

5.

### 动态监控系统

1. 
2. 

### 监控网络情况 

### 进程管理小结

### rpm管理

1.

2.

### yum 

### 软件包管理小结

### 安装jdk8

### 安装配置tomcat

### 安装配置idea2020

### 安装配置mysql5.7

### shell编程快速入门

### shell变量

### 设置环境变量

### 位置参数变量

### 预定义变量

### 运算符

### 条件判断

### 单分支多分支

### case语句

### for循环

### while循环

### read获取输入

### 系统函数

### 自定义函数

### 定时备份数据库

1.

2.

### shell编程笔记梳理 

### ubuntu

### ubuntu的root

### hello python

### APT原理机制图

### APT更新源和实例

### ubuntu远程登录和集群

### python定制篇梳理

### 日志介绍和实例

### 日志服务原理图

### 日志服务配置文件

### 自定义日志服务

### 日志轮替介绍

### 自定义日志轮替

### 日志轮替机制

### 内存日志

### 日志管理笔记

### 定制自己的Linux

1.

2.

3.

### 源码阅读

### 

### 

### 

### 

### 

### 

### 

### 

### 

### 







### 用户管理

