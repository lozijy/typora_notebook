内存管理

内存抽象:



指令

heap

free

stack



寄存器:



进程调度

中断，系统调用

### cpu和处理器的关系

cpu就是处理器

### 什么是多核，什么是多处理器

核(core)是cpu最重要的部分，cpu中间突出的芯片就是核，由硅制作

cpu，处理器

### 计算机系统的体系结构

单处理器

多处理器

- 多核：性能优于多个单核处理器，因为多个处理器会发生竞争等问题

集群lan，web

### 寄存器分类

分类

通用寄存器:

专用寄存器: 指令寄存器，地址寄存器:防止进程在内存中的地址 数据寄存器,



内存:



外存:

作业池

### 操作系统的结构

内核

### 操作系统的运行机制

两种运行状态，核心态，用户态。两种运行指令，特权指令，非特权指令。两种程序，内核程序，应用程序

### 进程切换时cpu内部

寄存器保存当前运行状态，并退出运行 状态

### 中断，系统调用，异常

操作系统运行状态分为核心态和用户态，指令分为核心指令和用户指令.程序的调用和切换是通过中断完成的，进程运行结束/时间片用完/请求io操作/出现异常时，中断机制发生。操作系统由用户态切换为核心态，操作系统内核对中断发生的原因进行检查，检查完毕后重新切换会用户态

执行完每个指令后，操作系统都要检查当前是否有外部中断信号

### 一个典型的指令执行周期

cpu在内存中获取指令，存放在指令寄存器中，随后要么被解码，要么继续将内存中的数据存放在数据寄存器中



### 存储结构

CACHE 读取速度最快

RAM 读取速度中等

磁盘 读取速度最慢



cpu寄存器

内存

外存

### 计算机系统的体系结构

单处理器系统

多处理器系统

集群系统

### 操作系统结构

结构:单作业操作系统

多道批操作系统

分时系统



### 内存抽象

在真实内存中，用物理地址区分不同数据的位置，内存抽象后会将内存划分为很多个内存块.

每个代码块是这样的

![image-20220428205100767](https://raw.githubusercontent.com/lozijy/github_-/main/image-20220428205100767.png)

stack和heap共享free的内容

内存中的地址分为 相对地址和真实地址,物理地址=相对地址+起始地址。

physical address=virtual address+base address

cpu中有基址寄存器和界限寄存器，在作业进入内存前，会自动加上基址寄存器的内容。

cpu中拥有内存管理单元MMU,专门用来对内存地址进行翻译



### 内存划分方式

单一连续存储管理

分区式存储管理

1. 固定分区

2. 动态分区

   

伙伴系统